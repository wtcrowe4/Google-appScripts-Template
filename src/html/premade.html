<!DOCTYPE html>
<html lang="en">

<head>
    <base target="_top">
    <title>Premade Inventory Management</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
</head>

<body>
    <!-- Capture the script URL in a local variable -->
    <? var scriptUrl = getScriptUrl(); ?>
    <div class="container">
        <div class="section">
            <div class="card-panel teal ">
                <h4 class="center-align white-text">Premade Inventory Management</h4>
                <p class="center-align white-text">Products submitted are added to inventory. Check the last box if you need to remove from inventory.</p>
            </div>
            <a href="<?= scriptUrl ?>?page=home" class="btn">Home</a>
            <div class="section card-panel">   
                <form id="inventoryForm">
                    <div class="row">
                        <div class="input-field col s6">
                            <select title="product" id="product">
                                <option value="" disabled selected>Product</option>
                                <option value="5inWand">5" Wands</option>
                                <option value="8inWand">8" Wands</option>
                                <option value="T-Wand">T-Wand</option>
                                <option value="1inDisc">1" Disc</option>
                                <option value="1inPlug">1" Plug</option>
                                <option value="2inPlug">2" Plug</option>
                                <option value="1inBall">1" Balls</option>
                                <option value="1.5inBall">1.5" Balls</option>
                                <option value="PharmDisc">Pharm Disc</option>
                                <option value="Card">Test Card</option>
                            </select>
                            <label>Product</label>
                        </div>
                        <div class="input-field col s6">
                            <select title="color" id="color">
                                <option value="" disabled selected>Color</option>
                                <option value="Red">Red</option>
                                <option value="Blue">Blue</option>
                                <option value="Yellow">Yellow</option>
                                <option value="Green">Green</option>
                                <option value="White">White</option>
                            </select> 
                            <label for="color">Color</label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="input-field col s6">
                            <select title="sphere_type" id="sphere_type">
                                <option value="" disabled selected>Sphere Type</option>
                                <option value="FE">FE</option>
                                <option value="NON-FE">NON-FE</option>
                                <option value="SS316">SS316</option>
                                <option value="SS304">SS304</option>
                                <option value="SS440">SS440</option>
                                <option value="Al">Al</option>
                                <option value="PORC">PORC</option>
                                <option value="SLG">SLG</option>
                                <option value="WC">WC</option>
                                <option value="Cu">Cu</option>
                                <option value="Birdshot">Birdshot</option>
                            </select>
                            <label>Sphere Type</label>
                        </div>
                        <div class="input-field col s6">
                            <input id="sphere_size" type="text" class="validate">
                            <label for="sphere_size">Sphere Size</label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="input-field col s6">
                            <input id="quantity" type="text" class="validate">
                            <label for="quantity">Quantity</label>
                        </div>
                        <div class="input-field col s6">
                            <label>
                                <input id="sold" type="checkbox" />
                                <span>Take out of Inventory</span>
                                <!-- <label for="sold">Sold</label> -->
                            </label>
                            
                        </div>
                    </div>
                    
                    <button type="submit" class="btn">Add</button>
                </form>
            </div>
            <div class="section card-panel">
                <h5>Submitted Products</h5>
                <ul id="submissionList"></ul>
                <button class="btn" onclick="google.script.run.addInventory()">Submit</button>
            </div>
        </div>
    </div>
    
    <script>
    document.getElementById('inventoryForm').addEventListener('submit', function (event) {
      event.preventDefault();
    
      const product = document.getElementById('product').value;
      const color = document.getElementById('color').value;
      const sphereType = document.getElementById('sphere_type').value;
      const sphereSize = document.getElementById('sphere_size').value;
      const quantity = document.getElementById('quantity').value;
      const sold = document.getElementById('sold').checked;
      const displayQuantity = sold ? `-${quantity}` : quantity;
      const submissionList = document.getElementById('submissionList');
      const listItem = document.createElement('li');
      listItem.textContent = `${displayQuantity} - ${product} ${color} ${sphereType} ${sphereSize}mm`;
      submissionList.appendChild(listItem);
    
      // Optionally, reset the form
      this.reset();
    });
    
    document.addEventListener('DOMContentLoaded', function () {
      const elems = document.querySelectorAll('select');
      const instances = M.FormSelect.init(elems);
    });

    // Initialize dynamically generated select elements
    function initializeDynamicSelects() {
      const elems = document.querySelectorAll('select');
      const instances = M.FormSelect.init(elems);
    }
</script>

<!-- <p> Create Google add-ons and web applications with Google Apps Script and modern JavaScript with the
    starter kit. </p>
<p> The starter kit is used by <a href="https://digitalinspiration.com/">Digital Inspiration</a> for
    building popular Google Workspace add-on including <a
        href="https://workspace.google.com/marketplace/app/mail_merge_with_attachments/223404411203">Gmail
        Mail Merge</a> and <a
        href="https://workspace.google.com/marketplace/app/document_studio/429444628321">Document
        Studio</a>. </p>
<p> The modern development environment for building Google add-ons and web applications with Google Apps
    Script and next-generation JavaScript. Uses Babel, Webpack, Google Clasp and ESLint for an efficient
    workflow. For help, please contact <a href="https://twitter.com/labnol">Amit Agarwal</a>
    <small>amit@labnol.org</small>
</p> -->